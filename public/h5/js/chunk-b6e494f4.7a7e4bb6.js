(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b6e494f4"],{6871:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkNTA0M2QyNC02ZDBmLTkwNGItYjY1Ni02OGM0MTIzOWMzZDEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDU2OUE5RjFCRjBFMTFFOUFDNzRBNUUwNDlEMzk1RTciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDU2OUE5RjBCRjBFMTFFOUFDNzRBNUUwNDlEMzk1RTciIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NGRkYmQ0NDMtMjEwZS00ZjVjLWE0MDgtMDYxM2VkMDBkMDE1IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YWIyMDM4YzctNTBiNi0xNzRiLTg3NGEtNjkyZDA5MzI1MWRmIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+bMGCmQAAA5NJREFUeNq0l0tME1EUhs8wDATFAiJEIhZBMSZqkFeiCeKrwEZjwAUlMbCRRCBRSYyy8AELQ9wIESRskKVhAZGEjYiCBNTwBsFHUEgBkUcLrUCFPrjeMw4IdDotUzjJaTtzzz1f79zH/IchhIAjm4o5xNGvJOoJ1GOph1H3FZr11Ieot1N/Tf1VYMd3s6OcjBSYAjH5LWCYbC4yJsAz7hxwEdHA7g8BZpcPH0PmDGAd1YC5txOWWhrB3N2hBUKe0aZi+gf0dpMjWMwnow+qJ2PDJwz5d4hFM0ScNYtmmBgK7hLsizns5RcDstTLtMkXiKm/h8g17Ku9dIZgLswpCRag1bM5GWR5YZ64atYZHZm5pkZ49Ub4RnDJTKaaLJtMZKsMc81ev4rwUlEwbUjFR4P/cqsNn542WYXw1HVgesOXLoZJV+bUop0i2qeFZKaihFiNC6JzjgxkrQXn40qUa+bxMfLj9BHyVenB+/iNDNE4Q0EejjofmQz94UH36Zh/TUMA7k85NpqaAMaPzavXHmHhENrYbxOH+12Xopqmow12o9eJXGSsLKjl108wvKiAvU8qgAsJW73vrbooGo8MZCGTB3vGnZUFHUlVwUReNszVVoGyqoGHKy6rISDvkd1+AivJnX5EcccjZUHNmiH+evrxPX6thNS2AKugpyzL2u3LHeNZUQg+zIaEyoaumOnbALA+fgBubpL92QM8KxyjfBhvhUtQfLxBRc8dQvm30r+Xi4+bqyNdhUo8XjFDsIHM/3YYOJ6VtiVQfI0iE8GDVs2wZLBVNw1/etq2ZKQCaxDBneZP3ZLBCy1v8IhzGYomsLoQXL/U0iQZbGxtAq+ok7An9z4oXzZDUHGlLCiawKpfOTLH6ZHpL3Z6GT+8A6t2ChgPT6eTM147YGe8SvLIdKe6yES1VelCZflDxYNCW91VcBuWvvRtalTcPiWEvR+0nbLKcpyyMmS6C/eKF+uqs7yuqAO5oxHrF1FyGlhOxW8KzPrutp3bz32wWFczjax1Ym/bhUBKAlkr/jZKn9JtkT5Z6TbSZ+PJddPc1V5jyM0EYjSCq7asnwV9djqY2lprMLekrv4vb1XENNArX97Svk7LWxFBP4mSCEX65gR93oq+sivonSlhcuk+z6EljL9n3HngTtASJli5voQZGwFzD5Ywb7GE0QklTJFUCcNssmhLXFO0+QnNs2uKtnp03KeOcv4VYABwkIZ9IZVk0gAAAABJRU5ErkJggg=="},deca:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"personal-data"},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"title"},[t._v("管理我的账号")]),s("div",{staticClass:"wrapList"},t._l(t.switchUserInfo,function(e,a){return s("div",{key:a,staticClass:"item acea-row row-between-wrapper",class:e.uid===t.userInfo.uid?"on":""},[s("div",{staticClass:"picTxt acea-row row-between-wrapper"},[s("div",{staticClass:"pictrue"},[e.uid===t.userInfo.uid?s("VueCoreImageUpload",{ref:"upImg",refInFor:!0,staticClass:"btn btn-primary",attrs:{crop:!1,compress:"80",headers:t.headers,"max-file-size":5242880,credentials:!1,inputAccept:"image/*",inputOfFile:"file",url:t.url},on:{imageuploaded:t.imageuploaded}},[s("div",{staticClass:"pictrue"},[s("img",{attrs:{src:e.avatar}})])]):s("div",{staticClass:"pictrue"},[s("img",{attrs:{src:e.avatar}})]),e.uid===t.userInfo.uid?s("img",{staticClass:"alter",attrs:{src:i("6871")}}):t._e()],1),s("div",{staticClass:"text"},[s("div",{staticClass:"name line1"},[t._v(t._s(e.nickname))]),s("div",{staticClass:"phone"},[t._v("绑定手机号："+t._s(e.phone))])])]),e.uid===t.userInfo.uid?s("div",{staticClass:"currentBnt acea-row row-center-wrapper font-color-red"},[t._v("\n          当前账号\n        ")]):s("div",{staticClass:"bnt font-color-red acea-row row-center-wrapper",on:{click:function(e){return t.switchAccounts(a)}}},[t._v("\n          使用账号\n        ")])])}),0)]),s("div",{staticClass:"list"},[s("div",{staticClass:"item acea-row row-between-wrapper"},[s("div",[t._v("昵称")]),s("div",{staticClass:"input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.nickname,expression:"userInfo.nickname"}],attrs:{type:"text"},domProps:{value:t.userInfo.nickname},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"nickname",e.target.value)}}})])]),s("div",{staticClass:"item acea-row row-between-wrapper"},[s("div",[t._v("ID号")]),s("div",{staticClass:"input acea-row row-between-wrapper"},[s("input",{staticClass:"id",attrs:{type:"text",disabled:""},domProps:{value:t.userInfo.uid}}),s("span",{staticClass:"iconfont icon-suozi"})])]),t.userInfo.phone?t.userInfo.phone?s("div",{staticClass:"item acea-row row-between-wrapper"},[s("div",[t._v("手机号码")]),s("div",{staticClass:"input acea-row row-between-wrapper"},[s("div",{staticClass:"input acea-row row-between-wrapper"},[s("input",{staticClass:"id",attrs:{type:"text",disabled:""},domProps:{value:t.userInfo.phone}}),s("span",{staticClass:"iconfont icon-suozi"})])])]):t._e():s("div",[s("router-link",{staticClass:"item acea-row row-between-wrapper",attrs:{to:"/user/binding"}},[s("div",[t._v("绑定手机号")]),s("div",{staticClass:"input"},[t._v("\n          点击绑定手机号"),s("span",{staticClass:"iconfont icon-xiangyou"})])])],1),t.userInfo.phone&&"h5"===t.userInfo.user_type?s("div",[s("router-link",{staticClass:"item acea-row row-between-wrapper",attrs:{to:"/change_password"}},[s("div",[t._v("密码")]),s("div",{staticClass:"input"},[t._v("\n          点击修改密码"),s("span",{staticClass:"iconfont icon-xiangyou"})])])],1):t._e()]),s("div",{staticClass:"modifyBnt bg-color-red",on:{click:t.submit}},[t._v("保存修改")]),t.isWeixin?t._e():s("div",{staticClass:"logOut cart-color acea-row row-center-wrapper",on:{click:t.logout}},[t._v("\n    退出登录\n  ")])])},a=[],n=(i("a481"),i("7f7f"),i("2f62")),o=i("ed08"),r=i("f603"),c=i("c24f"),u=i("74f9"),l=i("d0a4"),d=i("4360"),p={name:"PersonalData",components:{VueCoreImageUpload:r["a"]},data:function(){return{url:"".concat(o["a"],"/upload/image"),headers:{"Authori-zation":"Bearer "+this.$store.state.app.token},avatar:"",isWeixin:!1,currentAccounts:0,switchUserInfo:[],userIndex:0}},watch:{$route:function(t){"PersonalData"===t.name&&this.$store.dispatch("USERINFO",!0)}},computed:Object(n["b"])(["userInfo"]),mounted:function(){this.avatar=this.userInfo.avatar,this.isWeixin=Object(o["d"])(),this.getUserInfo()},methods:{switchAccounts:function(t){var e=this;this.userIndex=t;var i=this.switchUserInfo[this.userIndex];return this.switchUserInfo.length<=1||(void 0===i?this.$dialog.toast({mes:"切换的账号不存在"}):void("h5"===i.user_type?Object(c["X"])().then(function(t){var i=t.data;e.$dialog.loading.close();var s=i.expires_time.substring(0,19);s=s.replace(/-/g,"/"),s=new Date(s).getTime()-288e5;var a={token:i.token,expires_time:s};d["a"].commit("LOGIN",a),e.$emit("changeswitch",!1),location.reload()}).catch(function(t){return e.$dialog.loading.close(),e.$dialog.toast({mes:t})}):(l["a"].set("loginType","wechat",60),this.$dialog.loading.close(),this.$store.commit("LOGOUT"),Object(u["clearAuthStatus"])(),this.$emit("changeswitch",!1),location.reload())))},getUserInfo:function(){var t=this,e=this;Object(c["F"])().then(function(i){for(var s=i.data.switchUserInfo,a=0;a<s.length;a++)s[a].uid==e.userInfo.uid&&(e.userIndex=a),e.isWeixin||"h5"==s[a].user_type||""!==s[a].phone||s.splice(a,1);e.$set(t,"switchUserInfo",s)})},imageuploaded:function(t){if(200!==t.status)return this.$dialog.error(t.msg||"上传图片失败");void 0!==this.switchUserInfo[this.userIndex]&&this.$set(this.switchUserInfo[this.userIndex],"avatar",t.data.url)},submit:function(){var t=this,e=this.switchUserInfo[this.userIndex];Object(c["Q"])({nickname:Object(o["f"])(this.userInfo.nickname),avatar:e.avatar}).then(function(e){t.$store.dispatch("USERINFO",!0),t.$dialog.success(e.msg),t.$router.go(-1)},function(e){t.$dialog.error(e.msg)})},logout:function(){var t=this;this.$dialog.confirm({mes:"确认退出登录?",opts:function(){Object(c["u"])().then(function(e){t.$store.commit("LOGOUT"),Object(u["clearAuthStatus"])(),location.href=location.origin,console.log(e)}).catch(function(t){console.log(t)})}})}}},h=p,w=i("2877"),v=Object(w["a"])(h,s,a,!1,null,null,null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-b6e494f4.7a7e4bb6.js.map