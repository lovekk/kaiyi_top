(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71c995bd"],{"8a7a":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"apply-return"},[e._l(e.orderInfo.cartInfo,function(t){return r("div",{key:t.id,staticClass:"goodsStyle acea-row row-between"},[r("div",{staticClass:"pictrue"},[r("img",{staticClass:"image",attrs:{src:t.productInfo.image}})]),r("div",{staticClass:"text acea-row row-between"},[r("div",{staticClass:"name line2"},[e._v(e._s(t.productInfo.store_name))]),r("div",{staticClass:"money"},[r("div",[e._v("\n          ￥"+e._s(t.productInfo.attrInfo?t.productInfo.attrInfo.price:t.productInfo.price)+"\n        ")]),r("div",{staticClass:"num"},[e._v("x"+e._s(t.cart_num))])])])])}),r("div",{staticClass:"list"},[r("div",{staticClass:"item acea-row row-between-wrapper"},[r("div",[e._v("退货件数")]),r("div",{staticClass:"num"},[e._v(e._s(e.orderInfo.total_num))])]),r("div",{staticClass:"item acea-row row-between-wrapper"},[r("div",[e._v("退款金额")]),r("div",{staticClass:"num"},[e._v("￥"+e._s(e.orderInfo.pay_price))])]),r("div",{staticClass:"item acea-row row-between-wrapper"},[r("div",[e._v("退款原因")]),r("div",{staticClass:"num acea-row row-left"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.reason,expression:"reason"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.reason=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:""}},[e._v("选择退款原因")]),e._l(e.reasonList,function(t,n){return r("option",{key:n,domProps:{value:t}},[e._v("\n            "+e._s(t)+"\n          ")])})],2),r("span",{staticClass:"iconfont icon-jiantou"})])]),r("div",{staticClass:"item textarea acea-row row-between"},[r("div",[e._v("备注说明")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.refund_reason_wap_explain,expression:"refund_reason_wap_explain"}],staticClass:"num",attrs:{placeholder:"填写备注信息，100字以内"},domProps:{value:e.refund_reason_wap_explain},on:{input:function(t){t.target.composing||(e.refund_reason_wap_explain=t.target.value)}}})]),r("div",{staticClass:"item acea-row row-between"},[e._m(0),r("div",{staticClass:"upload acea-row row-middle"},[e._l(e.refund_reason_wap_img,function(t,n){return r("div",{key:t,staticClass:"pictrue"},[r("img",{attrs:{src:t}}),r("div",{staticClass:"iconfont icon-guanbi1 font-color-red",on:{click:function(t){return e.refund_reason_wap_img.splice(n,1)}}})])}),e.refund_reason_wap_img.length<3?r("VueCoreImageUpload",{staticClass:"btn btn-primary",attrs:{crop:!1,compress:"80",headers:e.headers,"max-file-size":5242880,credentials:!1,inputAccept:"image/*",inputOfFile:"file",url:e.url},on:{imageuploaded:e.imageuploaded}},[r("div",{staticClass:"pictrue acea-row row-center-wrapper row-column"},[r("span",{staticClass:"iconfont icon-icon25201"}),r("div",[e._v("上传凭证")])])]):e._e()],2)])]),r("div",{staticClass:"returnBnt bg-color-red",on:{click:e.submit}},[e._v("申请退款")])],2)},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title acea-row row-between-wrapper"},[r("div",[e._v("上传凭证")]),r("div",{staticClass:"tip"},[e._v("( 最多可上传3张 )")])])}],o=r("f8b7"),i=r("ed08"),s=r("f603"),u={name:"goodsReturn",components:{VueCoreImageUpload:s["a"]},data:function(){return{url:"".concat(i["a"],"/upload/image"),headers:{"Authori-zation":"Bearer "+this.$store.state.app.token},id:this.$route.params.id||0,orderInfo:{},reasonList:[],reason:"",refund_reason_wap_explain:"",refund_reason_wap_img:[]}},methods:{imageuploaded:function(e){if(200!==e.status)return this.$dialog.error(e.msg||"上传图片失败");this.refund_reason_wap_img.push(e.data.url)},getOrderDetail:function(){var e=this;Object(o["i"])(this.id).then(function(t){e.orderInfo=t.data}).catch(function(t){e.$dialog.error(t.msg||"获取订单失败")})},getRefundReason:function(){var e=this;Object(o["h"])().then(function(t){e.reasonList=t.data})},submit:function(){var e=this,t=Object(i["f"])(this.refund_reason_wap_explain),r=this.reason;if(!r)return this.$dialog.toast({mes:"请选择退款原因"});Object(o["n"])({text:r,uni:this.orderInfo.order_id,refund_reason_wap_img:this.refund_reason_wap_img.join(","),refund_reason_wap_explain:t}).then(function(t){e.$dialog.success(t.msg),e.$router.go(-1)}).catch(function(t){e.$dialog.error(t.msg)})}},mounted:function(){this.getOrderDetail(),this.getRefundReason()}},c=u,d=r("2877"),l=Object(d["a"])(c,n,a,!1,null,null,null);t["default"]=l.exports},f8b7:function(e,t,r){"use strict";r.d(t,"m",function(){return a}),r.d(t,"l",function(){return o}),r.d(t,"e",function(){return i}),r.d(t,"b",function(){return s}),r.d(t,"f",function(){return u}),r.d(t,"g",function(){return c}),r.d(t,"a",function(){return d}),r.d(t,"i",function(){return l}),r.d(t,"h",function(){return f}),r.d(t,"n",function(){return p}),r.d(t,"o",function(){return _}),r.d(t,"c",function(){return m}),r.d(t,"d",function(){return v}),r.d(t,"k",function(){return w}),r.d(t,"j",function(){return g});var n=r("b775");function a(e){return n["a"].post("/order/confirm",{cartId:e})}function o(e,t){return n["a"].post("/order/computed/"+e,t)}function i(e){return n["a"].get("/coupons/order/"+(parseFloat(e)||0))}function s(e,t){return n["a"].post("/order/create/"+e,t||{})}function u(){return n["a"].get("/order/data")}function c(e){return n["a"].get("/order/list",e)}function d(e){return n["a"].post("/order/cancel",{id:e})}function l(e){return n["a"].get("/order/detail/"+e)}function f(){return n["a"].get("/order/refund/reason")}function p(e){return n["a"].post("/order/refund/verify",e)}function _(e){return n["a"].post("/order/take",{uni:e})}function m(e){return n["a"].post("/order/del",{uni:e})}function v(e){return n["a"].get("order/express/"+e)}function w(e,t,r){return n["a"].post("order/pay",{uni:e,paytype:t,from:r})}function g(e,t){return n["a"].post("order/order_verific",{verify_code:e,is_confirm:t})}}}]);
//# sourceMappingURL=chunk-71c995bd.756e7f88.js.map