{"version":3,"sources":["webpack:///./src/views/orderAdmin/AdminOrderList.vue?588b","webpack:///src/views/orderAdmin/AdminOrderList.vue","webpack:///./src/views/orderAdmin/AdminOrderList.vue?17de","webpack:///./src/views/orderAdmin/AdminOrderList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","class","where","status","on","click","$event","changeStatus","_v","_l","item","index","key","toDetail","_s","order_id","add_time","val","attrs","src","cart_info","productInfo","image","store_name","suk","_e","price","cart_num","ot_price","total_num","pay_price","total_postage","modify","refund_status","pay_type","paid","offlinePay","to","loaded","loading","change","orderInfo","closechange","changeclose","savePrice","staticRenderFns","AdminOrderListvue_type_script_lang_js_","name","components","PriceChange","Loading","props","data","current","types","page","limit","list","watch","$route.params.types","newVal","that","undefined","init","getIndex","mounted","$route","params","$scroll","$refs","container","methods","more","msg","_savePrice","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","opt","refund_price","remark","wrap","_context","prev","next","$validator","validate","message","t0","abrupt","dialog","admin","then","$dialog","success","error","t1","type","res","err","t2","stop","_x","apply","arguments","length","push","$router","path","_this","console","log","orderAdmin_AdminOrderListvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"h5/js/chunk-2d0e2116.8704c7ae.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticClass:\"pos-order-list\"},[_c('div',{staticClass:\"nav acea-row row-around row-middle\"},[_c('div',{staticClass:\"item\",class:_vm.where.status == 0 ? 'on' : '',on:{\"click\":function($event){return _vm.changeStatus(0)}}},[_vm._v(\"\\n      待付款\\n    \")]),_c('div',{staticClass:\"item\",class:_vm.where.status == 1 ? 'on' : '',on:{\"click\":function($event){return _vm.changeStatus(1)}}},[_vm._v(\"\\n      待发货\\n    \")]),_c('div',{staticClass:\"item\",class:_vm.where.status == 2 ? 'on' : '',on:{\"click\":function($event){return _vm.changeStatus(2)}}},[_vm._v(\"\\n      待收货\\n    \")]),_c('div',{staticClass:\"item\",class:_vm.where.status == 3 ? 'on' : '',on:{\"click\":function($event){return _vm.changeStatus(3)}}},[_vm._v(\"\\n      待评价\\n    \")]),_c('div',{staticClass:\"item\",class:_vm.where.status == 4 ? 'on' : '',on:{\"click\":function($event){return _vm.changeStatus(4)}}},[_vm._v(\"\\n      已完成\\n    \")]),_c('div',{staticClass:\"item\",class:_vm.where.status == -3 ? 'on' : '',on:{\"click\":function($event){return _vm.changeStatus(-3)}}},[_vm._v(\"\\n      退款\\n    \")])]),_c('div',{staticClass:\"list\"},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('div',{staticClass:\"order-num acea-row row-middle\",on:{\"click\":function($event){return _vm.toDetail(item)}}},[_vm._v(\"\\n        订单号：\"+_vm._s(item.order_id)+\"\\n        \"),_c('span',{staticClass:\"time\"},[_vm._v(\"下单时间：\"+_vm._s(item.add_time))])]),_vm._l((item._info),function(val,key){return _c('div',{key:key,staticClass:\"pos-order-goods\"},[_c('div',{staticClass:\"goods acea-row row-between-wrapper\",on:{\"click\":function($event){return _vm.toDetail(item)}}},[_c('div',{staticClass:\"picTxt acea-row row-between-wrapper\"},[_c('div',{staticClass:\"pictrue\"},[_c('img',{attrs:{\"src\":val.cart_info.productInfo.image}})]),_c('div',{staticClass:\"text acea-row row-between row-column\"},[_c('div',{staticClass:\"info line2\"},[_vm._v(\"\\n                \"+_vm._s(val.cart_info.productInfo.store_name)+\"\\n              \")]),(val.cart_info.productInfo.suk)?_c('div',{staticClass:\"attr\"},[_vm._v(\"\\n                \"+_vm._s(val.cart_info.productInfo.suk)+\"\\n              \")]):_vm._e()])]),_c('div',{staticClass:\"money\"},[_c('div',{staticClass:\"x-money\"},[_vm._v(\"￥\"+_vm._s(val.cart_info.productInfo.price))]),_c('div',{staticClass:\"num\"},[_vm._v(\"x\"+_vm._s(val.cart_info.cart_num))]),_c('div',{staticClass:\"y-money\"},[_vm._v(\"\\n              ￥\"+_vm._s(val.cart_info.productInfo.ot_price)+\"\\n            \")])])])])}),_c('div',{staticClass:\"public-total\"},[_vm._v(\"\\n        共\"+_vm._s(item.total_num)+\"件商品，应支付\\n        \"),_c('span',{staticClass:\"money\"},[_vm._v(\"￥\"+_vm._s(item.pay_price))]),_vm._v(\" ( 邮费 ¥\"+_vm._s(item.total_postage)+\"\\n        )\\n      \")]),_c('div',{staticClass:\"operation acea-row row-between-wrapper\"},[_c('div',{staticClass:\"more\"}),_c('div',{staticClass:\"acea-row row-middle\"},[(_vm.where.status == 0)?_c('div',{staticClass:\"bnt\",on:{\"click\":function($event){return _vm.modify(item, 0)}}},[_vm._v(\"\\n            一键改价\\n          \")]):_vm._e(),_c('div',{staticClass:\"bnt\",on:{\"click\":function($event){return _vm.modify(item, 1)}}},[_vm._v(\"订单备注\")]),(_vm.where.status == -3 && item.refund_status === 1)?_c('div',{staticClass:\"bnt\",on:{\"click\":function($event){return _vm.modify(item, 0)}}},[_vm._v(\"\\n            立即退款\\n          \")]):_vm._e(),(item.pay_type === 'offline' && item.paid === 0)?_c('div',{staticClass:\"bnt cancel\",on:{\"click\":function($event){return _vm.offlinePay(item)}}},[_vm._v(\"\\n            确认付款\\n          \")]):_vm._e(),(_vm.where.status == 1)?_c('router-link',{staticClass:\"bnt\",attrs:{\"to\":'/customer/delivery/' + item.order_id}},[_vm._v(\"去发货\\n          \")]):_vm._e()],1)])],2)}),0),_c('Loading',{attrs:{\"loaded\":_vm.loaded,\"loading\":_vm.loading}}),_c('PriceChange',{attrs:{\"change\":_vm.change,\"orderInfo\":_vm.orderInfo,\"status\":_vm.status},on:{\"closechange\":function($event){return _vm.changeclose($event)},\"savePrice\":_vm.savePrice}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"pos-order-list\" ref=\"container\">\r\n    <div class=\"nav acea-row row-around row-middle\">\r\n      <div\r\n        class=\"item\"\r\n        :class=\"where.status == 0 ? 'on' : ''\"\r\n        @click=\"changeStatus(0)\"\r\n      >\r\n        待付款\r\n      </div>\r\n      <div\r\n        class=\"item\"\r\n        :class=\"where.status == 1 ? 'on' : ''\"\r\n        @click=\"changeStatus(1)\"\r\n      >\r\n        待发货\r\n      </div>\r\n      <div\r\n        class=\"item\"\r\n        :class=\"where.status == 2 ? 'on' : ''\"\r\n        @click=\"changeStatus(2)\"\r\n      >\r\n        待收货\r\n      </div>\r\n      <div\r\n        class=\"item\"\r\n        :class=\"where.status == 3 ? 'on' : ''\"\r\n        @click=\"changeStatus(3)\"\r\n      >\r\n        待评价\r\n      </div>\r\n      <div\r\n        class=\"item\"\r\n        :class=\"where.status == 4 ? 'on' : ''\"\r\n        @click=\"changeStatus(4)\"\r\n      >\r\n        已完成\r\n      </div>\r\n      <div\r\n        class=\"item\"\r\n        :class=\"where.status == -3 ? 'on' : ''\"\r\n        @click=\"changeStatus(-3)\"\r\n      >\r\n        退款\r\n      </div>\r\n    </div>\r\n    <div class=\"list\">\r\n      <div class=\"item\" v-for=\"(item, index) in list\" :key=\"index\">\r\n        <div class=\"order-num acea-row row-middle\" @click=\"toDetail(item)\">\r\n          订单号：{{ item.order_id }}\r\n          <span class=\"time\">下单时间：{{ item.add_time }}</span>\r\n        </div>\r\n        <div\r\n          class=\"pos-order-goods\"\r\n          v-for=\"(val, key) in item._info\"\r\n          :key=\"key\"\r\n        >\r\n          <div\r\n            class=\"goods acea-row row-between-wrapper\"\r\n            @click=\"toDetail(item)\"\r\n          >\r\n            <div class=\"picTxt acea-row row-between-wrapper\">\r\n              <div class=\"pictrue\">\r\n                <img :src=\"val.cart_info.productInfo.image\" />\r\n              </div>\r\n              <div class=\"text acea-row row-between row-column\">\r\n                <div class=\"info line2\">\r\n                  {{ val.cart_info.productInfo.store_name }}\r\n                </div>\r\n                <div class=\"attr\" v-if=\"val.cart_info.productInfo.suk\">\r\n                  {{ val.cart_info.productInfo.suk }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"money\">\r\n              <div class=\"x-money\">￥{{ val.cart_info.productInfo.price }}</div>\r\n              <div class=\"num\">x{{ val.cart_info.cart_num }}</div>\r\n              <div class=\"y-money\">\r\n                ￥{{ val.cart_info.productInfo.ot_price }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"public-total\">\r\n          共{{ item.total_num }}件商品，应支付\r\n          <span class=\"money\">￥{{ item.pay_price }}</span> ( 邮费 ¥{{\r\n            item.total_postage\r\n          }}\r\n          )\r\n        </div>\r\n        <div class=\"operation acea-row row-between-wrapper\">\r\n          <div class=\"more\">\r\n            <!--            <div class=\"iconfont icon-gengduo\" @click=\"more(index)\"></div>-->\r\n            <!--            <div class=\"order\" v-show=\"current === index\">-->\r\n            <!--              <div class=\"items\">-->\r\n            <!--                {{ where.status > 0 ? \"删除\" : \"取消\" }}订单-->\r\n            <!--              </div>-->\r\n            <!--              <div class=\"arrow\"></div>-->\r\n            <!--            </div>-->\r\n          </div>\r\n          <div class=\"acea-row row-middle\">\r\n            <div class=\"bnt\" @click=\"modify(item, 0)\" v-if=\"where.status == 0\">\r\n              一键改价\r\n            </div>\r\n            <div class=\"bnt\" @click=\"modify(item, 1)\">订单备注</div>\r\n            <div\r\n              class=\"bnt\"\r\n              @click=\"modify(item, 0)\"\r\n              v-if=\"where.status == -3 && item.refund_status === 1\"\r\n            >\r\n              立即退款\r\n            </div>\r\n            <div\r\n              class=\"bnt cancel\"\r\n              v-if=\"item.pay_type === 'offline' && item.paid === 0\"\r\n              @click=\"offlinePay(item)\"\r\n            >\r\n              确认付款\r\n            </div>\r\n            <router-link\r\n              class=\"bnt\"\r\n              v-if=\"where.status == 1\"\r\n              :to=\"'/customer/delivery/' + item.order_id\"\r\n              >去发货\r\n            </router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Loading :loaded=\"loaded\" :loading=\"loading\"></Loading>\r\n    <PriceChange\r\n      :change=\"change\"\r\n      :orderInfo=\"orderInfo\"\r\n      v-on:closechange=\"changeclose($event)\"\r\n      v-on:savePrice=\"savePrice\"\r\n      :status=\"status\"\r\n    ></PriceChange>\r\n  </div>\r\n</template>\r\n<script>\r\nimport PriceChange from \"@components/PriceChange\";\r\nimport Loading from \"@components/Loading\";\r\nimport {\r\n  getAdminOrderList,\r\n  setAdminOrderPrice,\r\n  setAdminOrderRemark,\r\n  setOfflinePay,\r\n  setOrderRefund\r\n} from \"../../api/admin\";\r\nimport { required, num } from \"@utils/validate\";\r\nimport { validatorDefaultCatch } from \"@utils/dialog\";\r\nexport default {\r\n  name: \"AdminOrderList\",\r\n  components: {\r\n    PriceChange,\r\n    Loading\r\n  },\r\n  props: {},\r\n  data: function() {\r\n    return {\r\n      current: \"\",\r\n      change: false,\r\n      types: 0,\r\n      where: {\r\n        page: 1,\r\n        limit: 5,\r\n        status: 0\r\n      },\r\n      list: [],\r\n      loaded: false,\r\n      loading: false,\r\n      orderInfo: {},\r\n      status: \"\"\r\n    };\r\n  },\r\n  watch: {\r\n    \"$route.params.types\": function(newVal) {\r\n      let that = this;\r\n      if (newVal != undefined) {\r\n        that.where.status = newVal;\r\n        that.init();\r\n      }\r\n    },\r\n    types: function() {\r\n      this.getIndex();\r\n    }\r\n  },\r\n  mounted: function() {\r\n    let that = this;\r\n    that.where.status = that.$route.params.types;\r\n    that.current = \"\";\r\n    that.getIndex();\r\n    that.$scroll(that.$refs.container, () => {\r\n      !that.loading && that.getIndex();\r\n    });\r\n  },\r\n  methods: {\r\n    more: function(index) {\r\n      if (this.current === index) this.current = \"\";\r\n      else this.current = index;\r\n    },\r\n    modify: function(item, status) {\r\n      this.change = true;\r\n      this.orderInfo = item;\r\n      this.status = status;\r\n    },\r\n    changeclose: function(msg) {\r\n      this.change = msg;\r\n    },\r\n    async savePrice(opt) {\r\n      let that = this,\r\n        data = {},\r\n        price = opt.price,\r\n        refund_price = opt.refund_price,\r\n        refund_status = that.orderInfo.refund_status,\r\n        remark = opt.remark;\r\n      data.order_id = that.orderInfo.order_id;\r\n      if (that.status == 0 && refund_status === 0) {\r\n        try {\r\n          await this.$validator({\r\n            price: [\r\n              required(required.message(\"金额\")),\r\n              num(num.message(\"金额\"))\r\n            ]\r\n          }).validate({ price });\r\n        } catch (e) {\r\n          return validatorDefaultCatch(e);\r\n        }\r\n        data.price = price;\r\n        setAdminOrderPrice(data).then(\r\n          function() {\r\n            that.change = false;\r\n            that.$dialog.success(\"改价成功\");\r\n            that.init();\r\n          },\r\n          function() {\r\n            that.change = false;\r\n            that.$dialog.error(\"改价失败\");\r\n          }\r\n        );\r\n      } else if (that.status == 0 && refund_status === 1) {\r\n        try {\r\n          await this.$validator({\r\n            refund_price: [\r\n              required(required.message(\"金额\")),\r\n              num(num.message(\"金额\"))\r\n            ]\r\n          }).validate({ refund_price });\r\n        } catch (e) {\r\n          return validatorDefaultCatch(e);\r\n        }\r\n        data.price = refund_price;\r\n        data.type = opt.type;\r\n        setOrderRefund(data).then(\r\n          res => {\r\n            that.change = false;\r\n            that.$dialog.success(res.msg);\r\n            that.init();\r\n          },\r\n          err => {\r\n            that.change = false;\r\n            that.$dialog.error(err.msg);\r\n          }\r\n        );\r\n      } else {\r\n        try {\r\n          await this.$validator({\r\n            remark: [required(required.message(\"备注\"))]\r\n          }).validate({ remark });\r\n        } catch (e) {\r\n          return validatorDefaultCatch(e);\r\n        }\r\n        data.remark = remark;\r\n        setAdminOrderRemark(data).then(\r\n          res => {\r\n            that.change = false;\r\n            that.$dialog.success(res.msg);\r\n            that.init();\r\n          },\r\n          err => {\r\n            that.change = false;\r\n            that.$dialog.error(err.msg);\r\n          }\r\n        );\r\n      }\r\n    },\r\n    init: function() {\r\n      this.list = [];\r\n      this.where.page = 1;\r\n      this.loaded = false;\r\n      this.loading = false;\r\n      this.getIndex();\r\n      this.current = \"\";\r\n    },\r\n    getIndex: function() {\r\n      let that = this;\r\n      if (that.loading || that.loaded) return;\r\n      that.loading = true;\r\n      getAdminOrderList(that.where).then(\r\n        res => {\r\n          that.loading = false;\r\n          that.loaded = res.data.length < that.where.limit;\r\n          that.list.push.apply(that.list, res.data);\r\n          that.where.page = that.where.page + 1;\r\n        },\r\n        err => {\r\n          that.$dialog.error(err.msg);\r\n        }\r\n      );\r\n    },\r\n    changeStatus: function(val) {\r\n      if (this.where.status != val) {\r\n        this.where.status = val;\r\n        this.init();\r\n      }\r\n    },\r\n    toDetail: function(item) {\r\n      this.$router.push({ path: \"/customer/orderdetail/\" + item.order_id });\r\n    },\r\n    offlinePay: function(item) {\r\n      console.log(item);\r\n      setOfflinePay({ order_id: item.order_id }).then(\r\n        res => {\r\n          this.$dialog.success(res.msg);\r\n          this.init();\r\n        },\r\n        error => {\r\n          this.$dialog.error(error.msg);\r\n        }\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminOrderList.vue?vue&type=template&id=43541e32&\"\nimport script from \"./AdminOrderList.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminOrderList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}