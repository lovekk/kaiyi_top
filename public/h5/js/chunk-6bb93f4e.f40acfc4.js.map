{"version":3,"sources":["webpack:///./src/views/shop/EvaluateList.vue?86f3","webpack:///./src/components/UserEvaluation.vue?86a1","webpack:///src/components/UserEvaluation.vue","webpack:///./src/components/UserEvaluation.vue?b93d","webpack:///./src/components/UserEvaluation.vue","webpack:///./src/views/shop/EvaluateList.vue?0255","webpack:///src/views/shop/EvaluateList.vue","webpack:///./src/views/shop/EvaluateList.vue?305e","webpack:///./src/views/shop/EvaluateList.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EvaluateList_vue_vue_type_style_index_0_id_6695926f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EvaluateList_vue_vue_type_style_index_0_id_6695926f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","key","attrs","src","avatar","_v","_s","nickname","class","star","add_time","suk","comment","itemn","merchant_reply_content","_e","staticRenderFns","UserEvaluationvue_type_script_lang_js_","name","props","reply","type","Array","default","data","mounted","methods","components_UserEvaluationvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","ref","replyData","reply_star","reply_chance","on","click","$event","changeType","currentActive","evaluate","num","loaded","loadend","loading","EvaluateListvue_type_script_lang_js_","components","UserEvaluation","Loading","product_id","navList","page","limit","loadTitle","_this","$route","params","id","getProductReplyCount","getProductReplyList","$scroll","$refs","container","that","store","then","res","$set","sum_count","good_count","in_count","poor_count","q","push","apply","length","shop_EvaluateListvue_type_script_lang_js_"],"mappings":"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","file":"h5/js/chunk-6bb93f4e.f40acfc4.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EvaluateList.vue?vue&type=style&index=0&id=6695926f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EvaluateList.vue?vue&type=style&index=0&id=6695926f&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"evaluateWtapper\"},_vm._l((_vm.reply),function(item,index){return _c('div',{key:index,staticClass:\"evaluateItem\"},[_c('div',{staticClass:\"pic-text acea-row row-middle\"},[_c('div',{staticClass:\"pictrue\"},[_c('img',{staticClass:\"image\",attrs:{\"src\":item.avatar}})]),_c('div',{staticClass:\"acea-row row-middle\"},[_c('div',{staticClass:\"name line1\"},[_vm._v(_vm._s(item.nickname))]),_c('div',{staticClass:\"start\",class:'star' + item.star})])]),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(item.add_time)+\" \"+_vm._s(item.suk))]),_c('div',{staticClass:\"evaluate-infor\"},[_vm._v(_vm._s(item.comment))]),_c('div',{staticClass:\"imgList acea-row\"},_vm._l((item.pics),function(itemn,index){return _c('div',{key:index,staticClass:\"pictrue\"},[_c('img',{staticClass:\"image\",attrs:{\"src\":itemn}})])}),0),(item.merchant_reply_content)?_c('div',{staticClass:\"reply\"},[_c('span',{staticClass:\"font-color-red\"},[_vm._v(\"店小二\")]),_vm._v(\"：\"+_vm._s(item.merchant_reply_content)+\"\\n    \")]):_vm._e()])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"evaluateWtapper\">\r\n    <div class=\"evaluateItem\" v-for=\"(item, index) in reply\" :key=\"index\">\r\n      <div class=\"pic-text acea-row row-middle\">\r\n        <div class=\"pictrue\">\r\n          <img :src=\"item.avatar\" class=\"image\" />\r\n        </div>\r\n        <div class=\"acea-row row-middle\">\r\n          <div class=\"name line1\">{{ item.nickname }}</div>\r\n          <div class=\"start\" :class=\"'star' + item.star\"></div>\r\n        </div>\r\n      </div>\r\n      <div class=\"time\">{{ item.add_time }} {{ item.suk }}</div>\r\n      <div class=\"evaluate-infor\">{{ item.comment }}</div>\r\n      <div class=\"imgList acea-row\">\r\n        <div class=\"pictrue\" v-for=\"(itemn, index) in item.pics\" :key=\"index\">\r\n          <img :src=\"itemn\" class=\"image\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"reply\" v-if=\"item.merchant_reply_content\">\r\n        <span class=\"font-color-red\">店小二</span>：{{\r\n          item.merchant_reply_content\r\n        }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"UserEvaluation\",\r\n  props: {\r\n    reply: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data: function() {\r\n    return {};\r\n  },\r\n  mounted: function() {},\r\n  methods: {}\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEvaluation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEvaluation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserEvaluation.vue?vue&type=template&id=49332381&\"\nimport script from \"./UserEvaluation.vue?vue&type=script&lang=js&\"\nexport * from \"./UserEvaluation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticClass:\"evaluate-list\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"generalComment acea-row row-between-wrapper\"},[_c('div',{staticClass:\"acea-row row-middle font-color-red\"},[_c('div',{staticClass:\"evaluate\"},[_vm._v(\"评分\")]),_c('div',{staticClass:\"start\",class:'star' + _vm.replyData.reply_star})]),_c('div',[_c('span',{staticClass:\"font-color-red\"},[_vm._v(_vm._s(_vm.replyData.reply_chance || 0)+\"%\")]),_vm._v(\"好评率\\n      \")])]),_c('div',{staticClass:\"nav acea-row row-middle\"},_vm._l((_vm.navList),function(item,index){return _c('div',{key:index,staticClass:\"acea-row row-center-wrapper\",on:{\"click\":function($event){return _vm.changeType(index)}}},[(item.num)?_c('div',{staticClass:\"item\",class:_vm.currentActive === index ? 'bg-color-red' : ''},[_vm._v(\"\\n          \"+_vm._s(item.evaluate)+\"(\"+_vm._s(item.num)+\")\\n        \")]):_vm._e()])}),0)]),_c('UserEvaluation',{attrs:{\"reply\":_vm.reply}}),_c('Loading',{attrs:{\"loaded\":_vm.loadend,\"loading\":_vm.loading}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"evaluate-list\" ref=\"container\">\r\n    <div class=\"header\">\r\n      <div class=\"generalComment acea-row row-between-wrapper\">\r\n        <div class=\"acea-row row-middle font-color-red\">\r\n          <div class=\"evaluate\">评分</div>\r\n          <div class=\"start\" :class=\"'star' + replyData.reply_star\"></div>\r\n        </div>\r\n        <div>\r\n          <span class=\"font-color-red\">{{ replyData.reply_chance || 0 }}%</span\r\n          >好评率\r\n        </div>\r\n      </div>\r\n      <div class=\"nav acea-row row-middle\">\r\n        <div\r\n          class=\"acea-row row-center-wrapper\"\r\n          v-for=\"(item, index) in navList\"\r\n          :key=\"index\"\r\n          @click=\"changeType(index)\"\r\n        >\r\n          <div\r\n            class=\"item\"\r\n            :class=\"currentActive === index ? 'bg-color-red' : ''\"\r\n            v-if=\"item.num\"\r\n          >\r\n            {{ item.evaluate }}({{ item.num }})\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <UserEvaluation :reply=\"reply\"></UserEvaluation>\r\n    <Loading :loaded=\"loadend\" :loading=\"loading\"></Loading>\r\n  </div>\r\n</template>\r\n<script>\r\nimport UserEvaluation from \"@components/UserEvaluation\";\r\nimport { getReplyConfig, getReplyList } from \"@api/store\";\r\nimport Loading from \"@components/Loading\";\r\n\r\nexport default {\r\n  name: \"EvaluateList\",\r\n  components: {\r\n    UserEvaluation,\r\n    Loading\r\n  },\r\n  props: {},\r\n  data: function() {\r\n    return {\r\n      product_id: 0,\r\n      replyData: {},\r\n      navList: [\r\n        { evaluate: \"全部\", num: 0 },\r\n        { evaluate: \"好评\", num: 0 },\r\n        { evaluate: \"中评\", num: 0 },\r\n        { evaluate: \"差评\", num: 0 }\r\n      ],\r\n      currentActive: 0,\r\n      page: 1,\r\n      limit: 8,\r\n      reply: [],\r\n      loadTitle: \"\",\r\n      loading: false,\r\n      loadend: false\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.product_id = this.$route.params.id;\r\n    this.getProductReplyCount();\r\n    this.getProductReplyList();\r\n    this.$scroll(this.$refs.container, () => {\r\n      !this.loading && this.getProductReplyList();\r\n    });\r\n  },\r\n  methods: {\r\n    getProductReplyCount: function() {\r\n      let that = this;\r\n      getReplyConfig(that.product_id).then(res => {\r\n        that.$set(that, \"replyData\", res.data);\r\n        that.navList[0].num = res.data.sum_count;\r\n        that.navList[1].num = res.data.good_count;\r\n        that.navList[2].num = res.data.in_count;\r\n        that.navList[3].num = res.data.poor_count;\r\n      });\r\n    },\r\n    getProductReplyList: function() {\r\n      let that = this;\r\n      if (that.loading) return; //阻止下次请求（false可以进行请求）；\r\n      if (that.loadend) return; //阻止结束当前请求（false可以进行请求）；\r\n      that.loading = true;\r\n      let q = { page: that.page, limit: that.limit, type: that.currentActive };\r\n      getReplyList(that.product_id, q).then(res => {\r\n        that.loading = false;\r\n        //apply();js将一个数组插入另一个数组;\r\n        that.reply.push.apply(that.reply, res.data);\r\n        that.loadend = res.data.length < that.limit; //判断所有数据是否加载完成；\r\n        that.page = that.page + 1;\r\n      });\r\n    },\r\n    changeType: function(index) {\r\n      let that = this;\r\n      that.currentActive = index;\r\n      that.page = 1;\r\n      that.loadend = false;\r\n      that.$set(that, \"reply\", []);\r\n      that.getProductReplyList();\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.noCommodity {\r\n  height: 8rem;\r\n  background-color: #fff;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EvaluateList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EvaluateList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EvaluateList.vue?vue&type=template&id=6695926f&scoped=true&\"\nimport script from \"./EvaluateList.vue?vue&type=script&lang=js&\"\nexport * from \"./EvaluateList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EvaluateList.vue?vue&type=style&index=0&id=6695926f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6695926f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}