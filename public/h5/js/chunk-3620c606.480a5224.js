(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3620c606"],{"2b67":function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"container",staticClass:"flash-sale"},[t.headerImg?e("div",{staticClass:"header"},[e("img",{attrs:{src:t.headerImg}})]):t._e(),e("Tabs",{ref:"timeList",staticClass:"time-tabs",attrs:{"line-height":"0",animated:"","title-inactive-color":"2",sticky:""},model:{value:t.active,callback:function(s){t.active=s},expression:"active"}},t._l(t.timeList,function(s,a){return e("Tab",{key:a},[e("div",{staticClass:"timeItem",attrs:{slot:"title"},on:{click:function(s){return t.setTime(a)}},slot:"title"},[e("div",{staticClass:"time"},[t._v(t._s(s.time))]),e("div",{staticClass:"state"},[t._v(t._s(s.state))])]),e("div",{staticClass:"countDown font-color-red acea-row row-center-wrapper"},[0===s.status?e("div",{staticClass:"activity"},[t._v("活动已结束")]):t._e(),1===s.status?e("CountDown",{attrs:{"is-day":!1,"tip-text":"距结束仅剩 ","day-text":"","hour-text":" : ","minute-text":" : ","second-text":"",datatime:t.datatime}}):t._e(),2===s.status?e("div",{staticClass:"activity"},[t._v("活动即将开始")]):t._e()],1),e("div",{staticClass:"list"},t._l(t.seckillList,function(i,a){return e("div",{key:a,staticClass:"item acea-row row-between-wrapper"},[e("div",{staticClass:"pictrue"},[e("img",{attrs:{src:i.image}})]),e("div",{staticClass:"text acea-row row-column-around"},[e("div",{staticClass:"line1",domProps:{textContent:t._s(i.title)}}),e("div",{staticClass:"money"},[t._v("\n              限时价"),e("span",{staticClass:"num font-color-red",domProps:{textContent:t._s("￥"+i.price)}})]),e("div",{staticClass:"progress cart-color"},[e("div",{staticClass:"bg-red",style:{width:t.loading?i.percent+"%":""}}),e("div",{staticClass:"piece font-color-red",domProps:{textContent:t._s("仅剩"+i.stock+"件")}})])]),1===s.status&&i.stock>0?e("div",{staticClass:"grab bg-color-red",on:{click:function(s){return t.goDetail(i.id)}}},[t._v("\n            马上抢\n          ")]):t._e(),1===s.status&&i.stock<=0?e("div",{staticClass:"grab"},[t._v("\n            已售磬\n          ")]):t._e(),2===s.status?e("div",{staticClass:"grab bg-color-red"},[t._v("\n            即将开始\n          ")]):t._e(),0===s.status?e("div",{staticClass:"grab bg-color-red"},[t._v("已结束")]):t._e()])}),0),0===t.seckillList.length&&t.page>1?e("div",{staticClass:"noCommodity",staticStyle:{"background-color":"#fff"}},[e("div",{staticClass:"noPictrue"},[e("img",{staticClass:"image",attrs:{src:i("0c36")}})])]):t._e(),t.seckillList.length>0?e("Loading",{attrs:{loaded:t.status,loading:t.loadingList}}):t._e()],1)}),1)],1)},a=[],n=(i("bda7"),i("5e46")),c=(i("da3c"),i("0b33")),l=i("ca41"),o=i("5608"),r=i("3a5e"),d={name:"GoodsSeckill",components:{CountDown:o["a"],Tab:c["a"],Tabs:n["a"],Loading:r["a"]},props:{},data:function(){return{headerImg:"",timeList:[],sticky:!1,loading:!1,datatime:0,active:0,seckillList:[],status:!1,loadingList:!1,page:1,limit:5}},mounted:function(){this.mountedStart()},methods:{mountedStart:function(){var t=this,s=this;Object(l["a"])().then(function(t){s.$set(s,"headerImg",t.data.lovely),s.$set(s,"timeList",t.data.seckillTime),s.$set(s,"active",t.data.seckillTimeIndex),s.datatime=s.timeList[s.active].stop,s.getSeckillList(),s.$nextTick(function(){s.sticky=!0,s.$refs.timeList.scrollIntoView()})}),this.$scroll(this.$refs.container,function(){!t.loadingList&&t.getSeckillList()}),setTimeout(function(){s.loading=!0},500)},setTime:function(t){var s=this;s.active=t,s.datatime=s.timeList[s.active].stop,s.getSeckillList()},getSeckillList:function(){var t=this;if(!t.loadingList&&!t.status){var s=t.timeList[t.active].id;Object(l["c"])(s,{page:t.page,limit:t.limit}).then(function(s){t.status=s.data.length<t.limit,t.seckillList.push.apply(t.seckillList,s.data),t.page++,t.loadingList=!1})}},goDetail:function(t){var s=this,i=s.timeList[s.active].stop;this.$router.push({path:"/activity/seckill_detail/"+t+"/"+i})}}},u=d,m=(i("4f29"),i("2877")),v=Object(m["a"])(u,e,a,!1,null,"5371063a",null);s["default"]=v.exports},"4f29":function(t,s,i){"use strict";var e=i("a2b1"),a=i.n(e);a.a},5608:function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"time"},[t._v("\n  "+t._s(t.tipText)),!0===t.isDay?i("span",{staticClass:"styleAll"},[t._v(t._s(t.day))]):t._e(),i("span",{staticClass:"timeTxt"},[t._v(t._s(t.dayText))]),i("span",{staticClass:"styleAll"},[t._v(t._s(t.hour))]),i("span",{staticClass:"timeTxt"},[t._v(t._s(t.hourText))]),i("span",{staticClass:"styleAll"},[t._v(t._s(t.minute))]),i("span",{staticClass:"timeTxt"},[t._v(t._s(t.minuteText))]),i("span",{staticClass:"styleAll"},[t._v(t._s(t.second))]),i("span",{staticClass:"timeTxt"},[t._v(t._s(t.secondText))])])},a=[],n=(i("c5f6"),{name:"CountDown",props:{tipText:{type:String,default:"倒计时"},dayText:{type:String,default:"天"},hourText:{type:String,default:"时"},minuteText:{type:String,default:"分"},secondText:{type:String,default:"秒"},datatime:{type:Number,default:0},isDay:{type:Boolean,default:!0}},data:function(){return{day:"00",hour:"00",minute:"00",second:"00"}},created:function(){this.show_time()},mounted:function(){},methods:{show_time:function(){var t=this;function s(){var s=t.datatime-Date.parse(new Date)/1e3,i=0,e=0,a=0,n=0;s>0?(i=!0===t.isDay?Math.floor(s/86400):0,e=Math.floor(s/3600)-24*i,a=Math.floor(s/60)-24*i*60-60*e,n=Math.floor(s)-24*i*60*60-60*e*60-60*a,e<=9&&(e="0"+e),a<=9&&(a="0"+a),n<=9&&(n="0"+n),t.day=i,t.hour=e,t.minute=a,t.second=n):(t.day="00",t.hour="00",t.minute="00",t.second="00")}s(),setInterval(s,1e3)}}}),c=n,l=i("2877"),o=Object(l["a"])(c,e,a,!1,null,null,null);s["a"]=o.exports},a2b1:function(t,s,i){},ca41:function(t,s,i){"use strict";i.d(s,"a",function(){return a}),i.d(s,"c",function(){return n}),i.d(s,"b",function(){return c});var e=i("b775");function a(){return e["a"].get("/seckill/index",{},{login:!1})}function n(t,s){return e["a"].get("/seckill/list/"+t,s,{login:!1})}function c(t){return e["a"].get("/seckill/detail/"+t,{},{login:!1})}}}]);
//# sourceMappingURL=chunk-3620c606.480a5224.js.map