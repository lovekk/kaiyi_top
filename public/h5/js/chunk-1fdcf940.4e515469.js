(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fdcf940"],{1449:function(t,e,s){"use strict";var a=s("6ba0"),i=s.n(a);i.a},"1c4c":function(t,e,s){"use strict";var a=s("9b43"),i=s("5ca1"),o=s("4bf8"),r=s("1fa8"),n=s("33a4"),c=s("9def"),u=s("f1ae"),l=s("27ee");i(i.S+i.F*!s("5cc5")(function(t){Array.from(t)}),"Array",{from:function(t){var e,s,i,d,p=o(t),h="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,v=void 0!==m,g=0,S=l(p);if(v&&(m=a(m,f>2?arguments[2]:void 0,2)),void 0==S||h==Array&&n(S))for(e=c(p.length),s=new h(e);e>g;g++)u(s,g,v?m(p[g],g):p[g]);else for(d=S.call(p),s=new h;!(i=d.next()).done;g++)u(s,g,v?r(d,m,[i.value,g],!0):i.value);return s.length=g,s}})},"2f21":function(t,e,s){"use strict";var a=s("79e5");t.exports=function(t,e){return!!t&&a(function(){e?t.call(null,function(){},1):t.call(null)})}},"3ac7":function(t,e,s){t.exports=s.p+"h5/img/videos.5a8e6dc1.png"},"419c":function(t,e,s){},"55dd":function(t,e,s){"use strict";var a=s("5ca1"),i=s("d8e8"),o=s("4bf8"),r=s("79e5"),n=[].sort,c=[1,2,3];a(a.P+a.F*(r(function(){c.sort(void 0)})||!r(function(){c.sort(null)})||!s("2f21")(n)),"Array",{sort:function(t){return void 0===t?n.call(o(this)):n.call(o(this),i(t))}})},"571a":function(t,e,s){},"5df3":function(t,e,s){"use strict";var a=s("02f4")(!0);s("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,s=this._i;return s>=e.length?{value:void 0,done:!0}:(t=a(e,s),this._i+=t.length,{value:t,done:!1})})},"6ba0":function(t,e,s){},"8ba1":function(t,e,s){},"8fe9":function(t,e,s){"use strict";var a=s("419c"),i=s.n(a);i.a},acb3:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAABLCAYAAAAPgLXeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxMmU5NDE3MS1jZGVmLWZjNDgtOTgwOS00ODlmMTQ2YTIwNzgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Qjg4MEU5RkZGOTA5MTFFOEIwNkM4N0JBODI3MDBBRkMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Qjg4MEU5RkVGOTA5MTFFOEIwNkM4N0JBODI3MDBBRkMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODQyM2UwYzQtNTFiNi01MjRiLTk5ZGItM2I2YjMxMjMyZDQzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjEyZTk0MTcxLWNkZWYtZmM0OC05ODA5LTQ4OWYxNDZhMjA3OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pj8UPccAAARySURBVHja7JlXaFRBFIb3JhHbGiM2LKCosYEYe0ui0YhGBCsi0YgVRAIi6IMN8UFEQWwvIgoaFPXJgL6oJDYUEdEIQWKJDQvGGCwxajRe/wPnysl1Nzv37uxuhDnwsbtTzvw7M3fKuVZAo9m2nYqP/iANBDn5M6gBjyzLqtPVlhWl0E74mA1yQSboEaHKU3ANXALn8Ee+BOJpEDwJnAU/bf/2FRSBjJj3OBoZgY89YKIrqwyUgLugAlSBWs5L5ZGgKTQKTOXv0orBeoxApe4ebgUOgAbRY2/BFtDbh7/BYDf4KPx9B5tBsi7R6aBMNFAD1oCWGny3B1tBnfBfArpE63g0eC+cnuQHUveI9galop0noK9fZ2P5ASKrB6ti/MAng+1C/GvP4lFhEKhmBzSM0+K4Yi0TzxL1fFfVikFQIXo6NxBnY/FyzierVDomKhUEEmRoe5vQsSVS4RxR+EgggYb2k8BFsVSmN1WwXDwY7QIJNmjoJRaI8+EKzRO9nR9oJsabkmPDQhW4xZkPqPcVHNK0OgT6+BAzHBwGQxQXixrWdirU8ufYCsXGb3L5V6CfB9FjwCeue0Kxzk4u/412W5mxXWSkKjpbINZbJfEu0bQ/TFBsa4Do2CUy4wYnFnsc8kWq4kOInuyxrfJGo4QvbcAvTlzrY75GFB+taPaxj+u/dBIyxDCM8fnkhxWvQzT7yRc6U5256liHKJatf8TrEu1cYoTOkZRQyD9qNay5UnwV+KJDNPvuKoTnpYjbeNTCcfWi8zp9LQKdOfk7mIm80ijdS31B2mick1eDps3uCfjhavClBr9SX3KS+CdBDVOFHu6LoDWopyRAN6YrXjapMCb11ZLwauc2DudtNYimDewbyAN0LP7Nt/xoxXcT32uc5Sr8Icb7Nt7oQfSySUVoQx4CO1FCmkhYqVO0TvGos4PrV8vE+14OPX42l2jFi9NrsUzcy4kfVOMlHLrwtLmEEN9Xsa1uol6hzBgnpstcRWfX/WwuLvHHFets4PJUr7s78zFnXlV0tpKHb5KP+UrHjNtghkLZFDpYsbYLoQqsFr2e04yubsuFrunhAptvuAA9rCnNQDTFFt+xptuR5p9jm5qB8KNCz/imClocObL5cpGdQNEFnmI89NTykdTmSO3ABIjO5vuvzeHAoGrFKRw3dNbbAXEUnSn2B/oc7NXBQjFU1PNZcRA9XwT563y3yeLrxZzfGIvVBj5bg/2ioz752R/cTnNFrNzm1ypZmgTTYjAHPBP+K8FQXT3SE1x2ve6j8/Us0MKHPwqJLAb3XD5PN4pUaeydJfy2zXbNf4qpL6VYYKhDGl1Q6KzPu/MZcYl27HHIXTEG87GQhzSUNXCQ8jl44Xol6Lb7vOmlxHOttXjpOijCY5GM/tQdsMvvG+W/EQWNf6QjPgYBenNAgaU9nLUOfAAPQYVlWZ91tGdxHCQmg6K7c6QlBf5TM8KNcCPcCDfCjXAj3Ag3wo1wI9wIN8KNcCPcCDfCjXAjPKb2R4ABAP1fyHzQ0oCyAAAAAElFTkSuQmCC"},ad83:function(t,e,s){"use strict";var a=s("8ba1"),i=s.n(a);i.a},adbf:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.domStatus,expression:"domStatus"}],class:[t.posterImageStatus?"noscroll product-con":"product-con"],nativeOn:{scroll:function(e){return t.onScroll(e)}}},[s("div",{ref:"header",staticClass:"header acea-row row-center-wrapper",style:"opacity:"+t.opacity},t._l(t.navList,function(e,a){return s("div",{key:a,staticClass:"item",class:t.navActive===a?"on":"",on:{click:function(e){return t.asideTap(a)}}},[t._v("\n      "+t._s(e)+"\n    ")])}),0),s("div",{attrs:{id:"title0"}},[s("ProductConSwiper",{attrs:{imgUrls:t.imgUrls}}),s("div",{staticClass:"nav acea-row row-between-wrapper"},[s("div",{staticClass:"money"},[t._v("\n        ￥"),s("span",{staticClass:"num",domProps:{textContent:t._s(t.storeInfo.price)}}),s("span",{staticClass:"y-money",domProps:{textContent:t._s("￥"+t.storeInfo.ot_price)}})]),"1"===t.$route.params.status?s("div",{staticClass:"acea-row row-middle"},[s("div",{staticClass:"times"},[s("div",[t._v("距秒杀结束仅剩")]),s("CountDown",{attrs:{"is-day":!1,"tip-text":"","day-text":"","hour-text":" : ","minute-text":" : ","second-text":"",datatime:t.datatime}})],1)]):t._e()]),s("div",{staticClass:"wrapperRush"},[s("div",{staticClass:"introduce acea-row row-between"},[s("div",{staticClass:"infor",domProps:{textContent:t._s(t.storeInfo.title)}}),s("div",{staticClass:"iconfont icon-fenxiang",on:{click:t.setPosterImageStatus}})]),s("div",{staticClass:"label acea-row row-middle"},[s("div",{staticClass:"stock"},[t._v("\n          累计销售："+t._s(t.storeInfo.total?t.storeInfo.total:0)+" 件\n        ")]),s("div",[t._v("\n          限量: "+t._s(t.storeInfo.quota_show?t.storeInfo.quota_show:0)+" 件\n        ")])])]),t.attr.productAttr.length?s("div",{staticClass:"attribute acea-row row-between-wrapper",on:{click:t.selecAttrTap}},[s("div",[t._v("\n        "+t._s(t.attrTxt)+"："),s("span",{staticClass:"atterTxt"},[t._v(t._s(t.attrValue))])]),s("div",{staticClass:"iconfont icon-jiantou"})]):t._e()],1),s("div",{staticClass:"userEvaluation",attrs:{id:"title1"}},[s("div",{staticClass:"title acea-row row-between-wrapper"},[s("div",{domProps:{textContent:t._s("用户评价("+t.replyCount+")")}}),s("div",{staticClass:"praise",on:{click:t.goReply}},[s("span",{staticClass:"font-color-red",domProps:{textContent:t._s(t.replyChance+"%")}}),t._v("好评率"),s("span",{staticClass:"iconfont icon-jiantou"})])]),0!==t.reply.length?s("UserEvaluation",{attrs:{reply:t.reply}}):t._e()],1),s("div",{staticClass:"product-intro",attrs:{id:"title2"}},[s("div",{staticClass:"title"},[t._v("产品介绍")]),s("div",{staticClass:"conter",domProps:{innerHTML:t._s(t.storeInfo.description)}})]),s("div",{staticStyle:{height:"1.2rem"}}),s("div",{staticClass:"footerRush acea-row row-between-wrapper"},[s("div",{staticClass:"customerSer acea-row row-center-wrapper row-column",on:{click:function(e){return t.$router.push({path:"/customer/list"})}}},[s("div",{staticClass:"iconfont icon-kefu"}),s("div",[t._v("客服")])]),s("div",{staticClass:"item acea-row row-center-wrapper row-column",on:{click:t.setCollect}},[s("div",{staticClass:"iconfont",class:t.storeInfo.userCollect?"icon-shoucang1":"icon-shoucang"}),s("div",[t._v("收藏")])]),"1"===t.$route.params.status&&t.attr.productSelect.quota>0&&t.attr.productSelect.product_stock>0?s("div",{staticClass:"bnt acea-row"},[s("div",{staticClass:"joinCart",on:{click:t.openAlone}},[t._v("原价购买")]),s("div",{staticClass:"buy",on:{click:t.tapBuy}},[t._v("立即抢购")])]):t._e(),"1"===t.$route.params.status&&(t.attr.productSelect.quota<=0||t.attr.productSelect.product_stock<=0)?s("div",{staticClass:"bnt acea-row"},[s("div",{staticClass:"joinCart",on:{click:t.openAlone}},[t._v("原价购买")]),s("div",{staticClass:"buy bg-color-hui"},[t._v("已售罄")])]):t._e(),"2"===t.$route.params.status?s("div",{staticClass:"bnt acea-row"},[s("div",{staticClass:"joinCart",on:{click:t.openAlone}},[t._v("原价购买")]),s("div",{staticClass:"buy bg-color-hui"},[t._v("未开始")])]):t._e(),"0"===t.$route.params.status?s("div",{staticClass:"bnt acea-row"},[s("div",{staticClass:"joinCart",on:{click:t.openAlone}},[t._v("原价购买")]),s("div",{staticClass:"buy bg-color-hui"},[t._v("已结束")])]):t._e()]),s("ProductWindow",{attrs:{attr:t.attr},on:{changeFun:t.changeFun}}),s("StorePoster",{attrs:{posterImageStatus:t.posterImageStatus,posterData:t.posterData},on:{setPosterImageStatus:t.setPosterImageStatus}})],1)},i=[],o=(s("55dd"),s("28a5"),s("7618")),r=(s("5df3"),s("1c4c"),s("7f7f"),s("c5f8")),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"time"},[t._v("\n  "+t._s(t.tipText)),!0===t.isDay?s("span",{staticClass:"styleAll"},[t._v(t._s(t.day))]):t._e(),s("span",{staticClass:"timeTxt"},[t._v(t._s(t.dayText))]),s("span",{staticClass:"styleAll"},[t._v(t._s(t.hour))]),s("span",{staticClass:"timeTxt"},[t._v(t._s(t.hourText))]),s("span",{staticClass:"styleAll"},[t._v(t._s(t.minute))]),s("span",{staticClass:"timeTxt"},[t._v(t._s(t.minuteText))]),s("span",{staticClass:"styleAll"},[t._v(t._s(t.second))]),s("span",{staticClass:"timeTxt"},[t._v(t._s(t.secondText))])])},c=[],u=(s("c5f6"),{name:"CountDown",props:{tipText:{type:String,default:"倒计时"},dayText:{type:String,default:"天"},hourText:{type:String,default:"时"},minuteText:{type:String,default:"分"},secondText:{type:String,default:"秒"},datatime:{type:Number,default:0},isDay:{type:Boolean,default:!0}},data:function(){return{day:"00",hour:"00",minute:"00",second:"00"}},created:function(){this.show_time()},mounted:function(){},methods:{show_time:function(){var t=this;function e(){var e=t.datatime-Date.parse(new Date)/1e3,s=0,a=0,i=0,o=0;e>0?(s=!0===t.isDay?Math.floor(e/86400):0,a=Math.floor(e/3600)-24*s,i=Math.floor(e/60)-24*s*60-60*a,o=Math.floor(e)-24*s*60*60-60*a*60-60*i,a<=9&&(a="0"+a),i<=9&&(i="0"+i),o<=9&&(o="0"+o),t.day=s,t.hour=a,t.minute=i,t.second=o):(t.day="00",t.hour="00",t.minute="00",t.second="00")}e(),setInterval(e,1e3)}}}),l=u,d=s("2877"),p=Object(d["a"])(l,n,c,!1,null,null,null),h=p.exports,f=s("c6da"),m=s("cbd6"),v=s("edc3"),g=s("ca41"),S=s("73f5"),C=s("e876"),w=s("ed08"),_=s("74f9"),I=s("c24f"),y=s("f7fe"),A=s.n(y),b="SeckillDetails",x={name:"SeckillDetails",components:{ProductConSwiper:r["a"],CountDown:h,ProductWindow:f["a"],StorePoster:m["a"],UserEvaluation:v["a"]},props:{},data:function(){return{domStatus:!1,posterData:{image:"",title:"",price:"",code:""},posterImageStatus:!1,action:"",imgUrls:[],storeInfo:[],replyCount:0,replyChance:0,reply:[],cartNum:1,attr:{cartAttr:!1,productSelect:{image:"",store_name:"",price:"",quota:0,unique:"",cart_num:1,quota_show:0,product_stock:0},productAttr:[]},datatime:0,attrTxt:"请选择",isOpen:!1,attrValue:"",cart_num:1,productValue:[],navList:[],lock:!1,navActive:0,opacity:0,storeSelfMention:!0,storeItems:{},activity:[]}},watch:{$route:function(t){var e=this;t.name===b&&e.mountedStart()}},mounted:function(){document.addEventListener("scroll",this.onScroll,!1),window.addEventListener("scroll",this.handleScroll),this.mountedStart()},methods:{goReply:function(){var t=this;t.$router.push({path:"/evaluate_list/"+t.storeInfo.product_id})},setCollect:function(){var t=this,e=t.storeInfo.product_id,s="product";t.storeInfo.userCollect?Object(I["n"])(e,s).then(function(){t.storeInfo.userCollect=!t.storeInfo.userCollect}):Object(I["m"])(e,s).then(function(){t.storeInfo.userCollect=!t.storeInfo.userCollect})},selecAttrTap:function(){"1"===this.$route.params.status&&(this.attr.cartAttr=!0,this.isOpen=!0)},openAlone:function(){this.$router.push({path:"/detail/"+this.storeInfo.product_id})},mountedStart:function(){var t=this,e=t.$route.params.id,s=t.$route.params.status;t.datatime=parseInt(t.$route.params.time),Object(g["b"])(e,t.datatime,s).then(function(e){t.$set(t,"storeInfo",e.data.storeInfo),t.$set(t,"imgUrls",e.data.storeInfo.images),t.$set(t,"replyCount",e.data.replyCount),t.$set(t,"replyChance",e.data.replyChance),e.data.reply&&t.$set(t,"reply",Array.from(e.data.reply)||[]),t.posterData.image=t.storeInfo.image_base,t.attr.productAttr=e.data.productAttr,t.productValue=e.data.productValue;var s=["商品","评价","详情"];t.navList=s,t.updateTitle(),t.storeInfo.title.length>30?t.posterData.title=t.storeInfo.title.substring(0,30)+"...":t.posterData.title=t.storeInfo.title,t.posterData.price=t.storeInfo.price,t.posterData.code=t.storeInfo.code_base,t.setProductSelect(),t.domStatus=!0,t.getImageBase64(),t.setShare(),t.DefaultSelect()}).catch(function(e){t.$dialog.error(e.msg),t.$router.go(-1)})},setShare:function(){Object(w["d"])()&&Object(_["openShareAll"])({desc:this.storeInfo.info,title:this.storeInfo.title,link:location.href,imgUrl:this.storeInfo.image})},getImageBase64:function(){var t=this;Object(C["l"])(this.posterData.image,t.posterData.code).then(function(e){t.posterData.image=e.data.image,t.posterData.code=e.data.code})},updateTitle:function(){document.title=this.storeInfo.title||this.$route.meta.title},setPosterImageStatus:function(){var t=document.body||document.documentElement;t.scrollTop=0,this.posterImageStatus=!this.posterImageStatus},changeFun:function(t){"object"!==Object(o["a"])(t)&&(t={});var e=t.action||"",s=void 0===t.value?"":t.value;this[e]&&this[e](s)},changeattr:function(t){var e=this;e.attr.cartAttr=t},ChangeAttr:function(t){var e=this.productValue[t];this.$set(this.attr.productSelect,"num",this.storeInfo.num),e?(this.$set(this.attr.productSelect,"image",e.image),this.$set(this.attr.productSelect,"price",e.price),this.$set(this.attr.productSelect,"quota",e.quota),this.$set(this.attr.productSelect,"unique",e.unique),this.$set(this.attr.productSelect,"cart_num",1),this.$set(this.attr.productSelect,"product_stock",e.product_stock),this.$set(this.attr.productSelect,"quota_show",e.quota_show),this.$set(this,"attrValue",t),this.$set(this,"attrTxt","已选择")):(this.$set(this.attr.productSelect,"image",this.storeInfo.image),this.$set(this.attr.productSelect,"price",this.storeInfo.price),this.$set(this.attr.productSelect,"quota",0),this.$set(this.attr.productSelect,"unique",""),this.$set(this.attr.productSelect,"cart_num",0),this.$set(this.attr.productSelect,"quota_show",0),this.$set(this.attr.productSelect,"product_stock",0),this.$set(this,"attrValue",""),this.$set(this,"attrTxt","请选择"))},ChangeCartNum:function(t){var e=this.productValue[this.attrValue];if(void 0!==e||this.attr.productAttr.length||(e=this.attr.productSelect),void 0!==e){var s=e.quota||0,a=this.storeInfo.num||0,i=this.attr.productSelect,o=i.product_stock||0;if(t){i.cart_num++;var r=[];r.push(a),r.push(s),r.push(o);var n=Math.min.apply(null,r);i.cart_num>=n&&(this.$set(this.attr.productSelect,"cart_num",n||1),this.$set(this,"cart_num",n||1))}else i.cart_num--,i.cart_num<1&&(this.$set(this.attr.productSelect,"cart_num",1),this.$set(this,"cart_num",1))}},DefaultSelect:function(){var t=this.attr.productAttr,e=[];for(var s in this.productValue)if(this.productValue[s].quota>0){e=this.attr.productAttr.length?s.split(","):[];break}for(var a=0;a<t.length;a++)this.$set(t[a],"index",e[a]);this.$set(this.attr.productSelect,"num",this.storeInfo.num);var i=this.productValue[e.sort().join(",")];i&&t.length?(this.$set(this.attr.productSelect,"store_name",this.storeInfo.title),this.$set(this.attr.productSelect,"image",i.image),this.$set(this.attr.productSelect,"price",i.price),this.$set(this.attr.productSelect,"quota",i.quota),this.$set(this.attr.productSelect,"unique",i.unique),this.$set(this.attr.productSelect,"cart_num",1),this.$set(this.attr.productSelect,"product_stock",i.product_stock),this.$set(this.attr.productSelect,"quota_show",i.quota_show),this.$set(this,"attrValue",e.sort().join(",")),this.$set(this,"attrTxt","已选择")):!i&&t.length?(this.$set(this.attr.productSelect,"store_name",this.storeInfo.title),this.$set(this.attr.productSelect,"image",this.storeInfo.image),this.$set(this.attr.productSelect,"price",this.storeInfo.price),this.$set(this.attr.productSelect,"quota",this.storeInfo.quota||0),this.$set(this.attr.productSelect,"unique",""),this.$set(this.attr.productSelect,"cart_num",0),this.$set(this.attr.productSelect,"quota_show",this.storeInfo.quota_show||0),this.$set(this.attr.productSelect,"product_stock",this.storeInfo.product_stock||0),this.$set(this,"attrValue",""),this.$set(this,"attrTxt","请选择")):i||t.length||(this.$set(this.attr.productSelect,"store_name",this.storeInfo.title),this.$set(this.attr.productSelect,"image",this.storeInfo.image),this.$set(this.attr.productSelect,"price",this.storeInfo.price),this.$set(this.attr.productSelect,"quota",this.storeInfo.quota),this.$set(this.attr.productSelect,"quota_show",this.storeInfo.quota_show),this.$set(this.attr.productSelect,"product_stock",this.storeInfo.product_stock),this.$set(this.attr.productSelect,"unique",this.storeInfo.unique||""),this.$set(this.attr.productSelect,"cart_num",1),this.$set(this,"attrValue",""),this.$set(this,"attrTxt","请选择"))},setProductSelect:function(){var t=this,e=t.attr;e.productSelect.image=t.storeInfo.image,e.productSelect.store_name=t.storeInfo.title,e.productSelect.price=t.storeInfo.price,e.productSelect.quota=0,e.productSelect.product_stock=0,e.cartAttr=!1,t.$set(e.productSelect,"num",t.storeInfo.num),t.$set(t,"attr",e)},tapBuy:function(){var t=this,e=this;if(0==e.attr.cartAttr)e.attr.cartAttr=!this.attr.attrcartAttr;else{var s={};s.productId=e.storeInfo.product_id,s.cartNum=e.attr.productSelect.cart_num,s.uniqueId=e.attr.productSelect.unique,s.secKillId=e.storeInfo.id,s.new=1,Object(S["m"])(s).then(function(t){e.$router.push({path:"/order/submit/"+t.data.cartId})}).catch(function(e){t.$dialog.error(e.msg)})}},handleScroll:function(){var t=document.body.scrollTop||document.documentElement.scrollTop,e=t/350;e=e>1?1:e,this.opacity=e},asideTap:function(t){var e=this;this.$nextTick(function(){var s=t;e.navActive=s;var a=document.querySelector("#title"+s),i=a.offsetTop-e.$refs.header.offsetHeight-window.scrollY;e.lock=!0,window.scrollBy({top:i,left:0,behavior:"smooth"})})},onScroll:A()(function(){var t=this;if(this.lock)this.lock=!1;else{var e=this.$refs.header.offsetHeight,s=window,a=s.scrollY,i=[];i.push(document.querySelector("#title0")),i.push(document.querySelector("#title1")),i.push(document.querySelector("#title2")),i.reduce(function(s,i,o){if(document.querySelector("#title0")||document.querySelector("#title1")||document.querySelector("#title2"))return s||(a+e<i.offsetTop+i.offsetHeight&&(s=!0,t.navActive=o),s)},!1)}},500)},beforeDestroy:function(){document.removeEventListener("scroll",this.onScroll,!1),window.removeEventListener("scroll",this.handleScroll)}},k=x,$=(s("8fe9"),Object(d["a"])(k,a,i,!1,null,"243e1a1c",null));e["default"]=$.exports},c5f8:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"slider-banner product-bg"},[t.imgUrls.length>0?a("swiper",{ref:"mySwiper",staticClass:"swiper-wrapper",attrs:{options:t.ProductConSwiper}},t._l(t.imgUrls,function(e,i){return a("swiper-slide",{key:i,ref:"goodSwiper",refInFor:!0,staticClass:"swiper-slide"},[a("div",{staticClass:"slide-image",style:{background:"url("+e+") no-repeat center center","background-size":"100% 100%"}},[t.videolines&&0===i?a("img",{staticClass:"video_play",attrs:{src:s("3ac7")}}):t._e()])])}),1):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isOnPlay,expression:"isOnPlay"}],staticClass:"videoBox"},[a("video",{ref:"videoIds",staticClass:"video-source",staticStyle:{width:"100%","object-fit":"fill"},attrs:{poster:t.imgUrls[0],loop:"",controls:"",preload:"auto","x-webkit-airplay":"true","x5-video-player-fullscreen":"true","x5-video-orientation":"portraint","x5-video-player-type":"",src:t.videolines},on:{pause:t.endVideo}},[t._v("\n      您的浏览器可能不支持视频播放\n    ")])]),a("div",{staticClass:"pages"},[t._v(t._s(t.currents||1)+"/"+t._s(t.imgUrls.length||1))])],1)},i=[],o=s("7212"),r=(s("e5d0"),null),n={name:"ProductConSwiper",components:{swiper:o["swiper"],swiperSlide:o["swiperSlide"]},props:{imgUrls:{type:Array,default:function(){return[]}},videoline:{type:String,default:function(){return""}}},watch:{videoline:{handler:function(t){this.videolines=t},deep:!0}},data:function(){var t=this;return{videolines:this.videoline,mobile:"",isOnPlay:!1,currents:1,ProductConSwiper:{loop:!0,speed:1e3,observer:!0,observeParents:!0,autoplayDisableOnInteraction:!1,on:{slideChangeTransitionStart:function(){if(t.currents=this.realIndex+1,"iPhone"===t.mobile){var e=t.$refs.videoIds;e.pause()}},tap:function(){var t=this.realIndex;0===t&&r.videoPlay()}}}}},computed:{swiper:function(){return this.$refs.mySwiper.swiper}},mounted:function(){},created:function(){r=this,-1!==navigator.platform.indexOf("Win")&&(this.mobile="iPhone")},methods:{endVideo:function(){this.isOnPlay=!1;var t=this.$refs.videoIds;t.pause()},videoPlay:function(){if(this.videolines){this.isOnPlay=!0;var t=this.$refs.videoIds;t.play()}}}},c=n,u=(s("1449"),s("2877")),l=Object(u["a"])(c,a,i,!1,null,"221a31e0",null);e["a"]=l.exports},c6da:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"product-window group-con",class:!0===t.attr.cartAttr?"on":"",style:"padding-bottom:"+(t.isShowBtn?"0":"")},[s("div",{staticClass:"textpic acea-row row-between-wrapper"},[s("div",{staticClass:"pictrue"},[s("img",{staticClass:"image",attrs:{src:t.attr.productSelect.image}})]),s("div",{staticClass:"text"},[s("div",{staticClass:"line1"},[t._v("\n          "+t._s(t.attr.productSelect.store_name)+"\n        ")]),s("div",{staticClass:"money font-color-red"},[t._v("\n          ￥"),s("span",{staticClass:"num"},[t._v(t._s(t.attr.productSelect.price))]),t.isShow?s("span",{staticClass:"stock"},[t._v("\n            库存: "+t._s(t.attr.productSelect.stock)+"\n          ")]):s("span",{staticClass:"stock"},[t._v("\n            限量:\n            "+t._s(t.attr.productSelect.quota_show?t.attr.productSelect.quota_show:0)+"\n          ")])])]),s("div",{staticClass:"iconfont icon-guanbi",on:{click:t.closeAttr}})]),s("div",{staticClass:"productWinList"},t._l(t.attr.productAttr,function(e,a){return s("div",{key:a,staticClass:"item"},[s("div",{staticClass:"title"},[t._v(t._s(e.attr_name))]),s("div",{staticClass:"listn acea-row row-middle"},t._l(e.attr_value,function(i,o){return s("div",{key:o,staticClass:"itemn",class:e.index===i.attr?"on":"",on:{click:function(e){return t.tapAttr(a,i.attr)}}},[t._v("\n            "+t._s(i.attr)+"\n          ")])}),0)])}),0),s("div",{staticClass:"cart"},[s("div",{staticClass:"title"},[t._v("数量")]),s("div",{staticClass:"carnum acea-row row-left"},[s("div",{staticClass:"item reduce",class:t.attr.productSelect.cart_num<=1?"on":"",on:{click:t.CartNumDes}},[t._v("\n          -\n        ")]),s("div",{staticClass:"item num"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.attr.productSelect.cart_num,expression:"attr.productSelect.cart_num"}],staticClass:"ipt_num",attrs:{type:"number"},domProps:{value:t.attr.productSelect.cart_num},on:{input:function(e){e.target.composing||t.$set(t.attr.productSelect,"cart_num",e.target.value)}}})]),t.iSplus?s("div",{staticClass:"item plus",class:t.attr.productSelect.cart_num>=t.attr.productSelect.stock?"on":"",on:{click:t.CartNumAdd}},[t._v("\n          +\n        ")]):s("div",{staticClass:"item plus",class:t.attr.productSelect.cart_num>=t.attr.productSelect.product_stock||t.attr.productSelect.cart_num>=t.attr.productSelect.quota_show||t.attr.productSelect.cart_num>=t.attr.productSelect.num?"on":"",on:{click:t.CartNumAdd}},[t._v("\n          +\n        ")])])]),t.isShowBtn?s("div",{staticClass:"wrapper"},[t.attr.productSelect.quota>0&&t.attr.productSelect.product_stock>0?s("div",{staticClass:"teamBnt bg-color-red",on:{click:t.openAlone}},[t._v("\n        立即参团\n      ")]):s("div",{staticClass:"teamBnt bg-color-hui"},[t._v("已售罄")])]):t._e()]),s("div",{staticClass:"mask",attrs:{hidden:!1===t.attr.cartAttr},on:{touchmove:function(t){t.preventDefault()},click:t.closeAttr}})])},i=[],o=(s("55dd"),{name:"ProductWindow",props:{attr:{type:Object,default:function(){}},iSplus:{type:String,default:""}},data:function(){return{}},computed:{isShow:function(){return 1===this.$route.path.indexOf("detail")},isShowBtn:function(){return-1!=this.$route.path.indexOf("group_rule")}},mounted:function(){},methods:{openAlone:function(){this.$emit("changeFun",{action:"goPay",value:!1})},closeAttr:function(){this.$emit("changeFun",{action:"changeattr",value:!1})},CartNumDes:function(){this.$emit("changeFun",{action:"ChangeCartNum",value:!1})},CartNumAdd:function(){this.$emit("changeFun",{action:"ChangeCartNum",value:1})},tapAttr:function(t,e){var s=this;s.attr.productAttr[t].index=e;var a=s.getCheckedValue().sort().join(",");s.$emit("changeFun",{action:"ChangeAttr",value:a})},getCheckedValue:function(){for(var t=this.attr.productAttr,e=[],s=0;s<t.length;s++)for(var a=0;a<t[s].attr_value.length;a++)t[s].index===t[s].attr_value[a].attr&&e.push(t[s].attr_value[a].attr);return e}}}),r=o,n=(s("ad83"),s("2877")),c=Object(n["a"])(r,a,i,!1,null,"ee4e121e",null);e["a"]=c.exports},c830:function(t,e,s){"use strict";var a=s("571a"),i=s.n(a);i.a},ca41:function(t,e,s){"use strict";s.d(e,"a",function(){return i}),s.d(e,"c",function(){return o}),s.d(e,"b",function(){return r});var a=s("b775");function i(){return a["a"].get("/seckill/index",{},{login:!1})}function o(t,e){return a["a"].get("/seckill/list/"+t,e,{login:!1})}function r(t,e,s){return a["a"].get("/seckill/detail/"+t+"/"+e+"/"+s,{},{login:!1})}},cbd6:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.posterImageStatus?a("div",{staticClass:"poster-first"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.canvasStatus&&t.posterImage,expression:"!canvasStatus && posterImage"}],staticClass:"poster-pop"},[a("img",{staticClass:"close",attrs:{src:s("acb3")},on:{click:t.posterImageClose}}),a("img",{ref:"conf0",staticClass:"poster-image",attrs:{src:t.posterImage,alt:"tp",id:"scream"}}),a("div",{staticClass:"keep"},[t._v("长按图片可以保存到手机")])]),a("div",{staticClass:"mask",on:{touchmove:function(t){t.preventDefault()},click:t.posterImageClose}},[a("div",{staticClass:"canvasBox"},[a("canvas",{ref:"myCanvas"})])])]):t._e()},i=[],o={name:"StorePoster",props:{posterImageStatus:Boolean,posterData:Object},data:function(){return{canvasStatus:!1,posterImage:""}},watch:{posterImageStatus:function(){var t=this;!0===t.posterImageStatus&&t.$nextTick(function(){t.savePosterPath()})}},mounted:function(){},methods:{posterImageClose:function(){this.posterImageStatus=!1,this.canvasStatus=!1,this.$emit("setPosterImageStatus")},savePosterPath:function(){this.$dialog.loading.open(),this.setHtml2Canvas()},setHtml2Canvas:function(){var t=this,e=this.$refs.myCanvas,s=e.getContext("2d"),a=window.screen.availHeight,i=window.screen.availWidth,o=window.devicePixelRatio||1,r=s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1,n=o/r;e.width=i*n,e.height=a*n,e.style.width=i+"px",e.style.height=a+"px",s.scale(n,n);for(var c=s.getImageData(0,0,e.width,e.height),u=0;u<c.data.length;u+=4)0==c.data[u+3]&&(c.data[u]=255,c.data[u+1]=255,c.data[u+2]=255,c.data[u+3]=255);s.putImageData(c,0,0);var l=new Image,d=i-50;l.onload=function(){s.drawImage(l,0,0,i,d)},l.src=this.posterData.image,s.font="22px PingFang-SC-Medium",s.fillStyle="#282828";var p=this.posterData.title,h=d+30,f=s.measureText(p).width;this.canvasTextAutoLine(p,e,20,h,35,i-20,2),s.font="32px PingFang-SC-Heavy",s.fillStyle="#DF2D0A";var m=0;m=f<i-20?h+55:h+85,s.textAlign="center",s.fillText("￥"+this.posterData.price,i/2,m);var v=new Image,g=m+20;v.onload=function(){s.drawImage(v,10,g,115,115)},v.src=this.posterData.code,s.font="18px Arial",s.fillStyle="#282828",s.textAlign="left";var S=g+57.5;s.fillText("长按识别二维码 立即购买",135,S+10),setTimeout(function(){t.posterImage=e.toDataURL(),t.$dialog.loading.close()},500)},canvasTextAutoLine:function(t,e,s,a,i,o,r){for(var n=e.getContext("2d"),c=0,u=0,l=i,d=a,p=0;p<t.length;p++){if(c+=n.measureText(t[p]).width,c>o-s){if(a>=d+l*(r-1))return void n.fillText(t.substring(u,p-1)+"...",s,a);n.fillText(t.substring(u,p),s,a),a+=i,c=0,u=p}p==t.length-1&&n.fillText(t.substring(u,p+1),s,a)}}}},r=o,n=(s("c830"),s("2877")),c=Object(n["a"])(r,a,i,!1,null,"54213156",null);e["a"]=c.exports},f1ae:function(t,e,s){"use strict";var a=s("86cc"),i=s("4630");t.exports=function(t,e,s){e in t?a.f(t,e,i(0,s)):t[e]=s}}}]);
//# sourceMappingURL=chunk-1fdcf940.4e515469.js.map