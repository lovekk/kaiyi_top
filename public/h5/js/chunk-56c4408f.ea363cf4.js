(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56c4408f"],{"1e95":function(e,t,i){},5496:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"OrderCancellation"},[n("div",{staticClass:"header"}),n("div",{staticClass:"whiteBg"},[n("div",{staticClass:"input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.verify_code,expression:"verify_code"}],attrs:{type:"number",placeholder:"0"},domProps:{value:e.verify_code},on:{input:function(t){t.target.composing||(e.verify_code=t.target.value)}}})]),n("div",{staticClass:"bnt",on:{click:e.storeCancellation}},[e._v("立即核销")])]),e.iswechat?n("div",{staticClass:"scan"},[n("img",{attrs:{src:i("ed45")},on:{click:e.openQRCode}})]):e._e(),n("WriteOff",{attrs:{iShidden:e.iShidden,orderInfo:e.orderInfo},on:{cancel:e.cancel,confirm:e.confirm}})],1)},o=[],c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:!1===e.iShidden,expression:"iShidden === false"}]},[i("div",{staticClass:"WriteOff"},[i("div",{staticClass:"pictrue"},[i("img",{attrs:{src:e.orderInfo.image}})]),i("div",{staticClass:"num acea-row row-center-wrapper"},[e._v("\n      "+e._s(e.orderInfo.order_id)+"\n      "),i("div",{staticClass:"views",on:{click:function(t){return e.toDetail(e.orderInfo)}}},[e._v("\n        查看"),i("span",{staticClass:"iconfont icon-jiantou views-jian"})])]),i("div",{staticClass:"tip"},[e._v("确定要核销此订单吗？")]),i("div",{staticClass:"sure",on:{click:e.confirm}},[e._v("确定核销")]),i("div",{staticClass:"sure cancel",on:{click:e.cancel}},[e._v("取消")])]),i("div",{staticClass:"mask",on:{touchmove:function(e){e.preventDefault()}}})])},r=[],s={name:"WriteOff",props:{iShidden:{type:Boolean,default:!0},orderInfo:{type:Object}},data:function(){return{}},mounted:function(){},methods:{toDetail:function(e){this.$router.push({path:"/customer/orderdetail/"+e.order_id+"/looks"})},cancel:function(){this.$emit("cancel",!0)},confirm:function(){this.$emit("confirm",!0)}}},a=s,d=(i("d25c"),i("2877")),l=Object(d["a"])(a,c,r,!1,null,"1c7e0a12",null),f=l.exports,u=i("ed08"),v=i("74f9"),h=i("f8b7"),p="OrderCancellation",m={name:p,components:{WriteOff:f},props:{},data:function(){return{iShidden:!0,iswechat:Object(u["d"])(),orderInfo:{},verify_code:""}},mounted:function(){},methods:{cancel:function(e){this.iShidden=e},confirm:function(){var e=this;Object(h["k"])(this.verify_code,1).then(function(t){e.iShidden=!0,e.verify_code="",e.$dialog.success(t.msg)}).catch(function(t){e.$dialog.error(t.msg)})},storeCancellation:function(){var e=this,t=/[0-9]{12}/;return this.verify_code?t.test(this.verify_code)?(this.$dialog.loading.open("查询中"),void Object(h["k"])(this.verify_code,0).then(function(t){e.$dialog.loading.close(),e.orderInfo=t.data,e.iShidden=!1}).catch(function(t){return e.$dialog.loading.close(),e.verify_code="",e.$dialog.error(t.msg)})):this.$dialog.error("请输入正确的核销码"):this.$dialog.error("请输入核销码")},openQRCode:function(){var e=this;Object(v["wechatEvevt"])("scanQRCode",{needResult:1,scanType:["qrCode","barCode"]}).then(function(t){t.resultStr?(e.verify_code=t.resultStr,e.storeCancellation()):e.$dialog.error("没有扫描到什么！")}).catch(function(t){console.log(t),t.is_ready&&t.wx.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:function(t){e.verify_code=t.resultStr,e.storeCancellation()},fail:function(t){console.log(t),"scanQRCode:permission denied"==t.errMsg&&e.$dialog.error("没有权限")}})})}}},C=m,g=(i("e3be"),Object(d["a"])(C,n,o,!1,null,"3985d502",null));t["default"]=g.exports},"9d80":function(e,t,i){},d25c:function(e,t,i){"use strict";var n=i("1e95"),o=i.n(n);o.a},e3be:function(e,t,i){"use strict";var n=i("9d80"),o=i.n(n);o.a},ed45:function(e,t,i){e.exports=i.p+"h5/img/scan.2ca2147e.gif"}}]);
//# sourceMappingURL=chunk-56c4408f.ea363cf4.js.map